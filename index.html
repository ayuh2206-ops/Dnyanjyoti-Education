<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dnyanjyoti Education</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { primary: '#002244', accent: '#EA580C', bgBody: '#F8FAFC' },
                    animation: { 'fade-in': 'fadeIn 0.5s ease-out' },
                    keyframes: { fadeIn: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } } }
                }
            }
        }
    </script>

    <!-- 2. Import Map -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.300.0",
            "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"
        }
    }
    </script>

    <!-- 3. Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: sans-serif; }
        .spinner { border: 4px solid rgba(0, 0, 0, 0.1); width: 36px; height: 36px; border-radius: 50%; border-left-color: #EA580C; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-bgBody text-slate-900">

    <!-- Error Container -->
    <div id="error-container" style="display:none; padding: 20px; background: #fee2e2; color: #b91c1c; margin: 20px; border-radius: 8px; border: 1px solid #f87171;">
        <h3 style="font-weight: bold; margin-bottom: 8px;">Application Failed to Load</h3>
        <p id="error-message">Unknown Error</p>
        <p style="font-size: 0.8em; margin-top: 8px;">Tip: Ensure <code>firebase-config.js</code> is in the same folder and you are running this on a local server (http://localhost), not by double-clicking the file.</p>
    </div>

    <!-- App Root -->
    <div id="root">
        <div class="h-screen flex items-center justify-center flex-col gap-4">
            <div class="spinner"></div>
            <p class="text-slate-500 text-sm">Loading Application...</p>
        </div>
    </div>

    <!-- 4. Main Script -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            CheckCircle, Play, Pause, MessageCircle, Send, ChevronRight, 
            BookOpen, Clock, Award, Download, ShieldCheck, Settings, 
            Lock, Unlock, Video, X, Star, Zap, Target, Book, Brain, Scale, FileText
        } from 'lucide-react';

        // Safe Database Import
        let db = null;
        let firestoreFuncs = {};

        async function initApp() {
            try {
                const firebaseConfig = await import('./firebase-config.js');
                db = firebaseConfig.db;
                const fs = await import('firebase/firestore');
                firestoreFuncs = { ...fs };
                renderReactApp();
            } catch (err) {
                console.error("Firebase Load Error:", err);
                console.warn("Running in Offline/Demo Mode");
                renderReactApp(true);
            }
        }

        const DEFAULT_SETTINGS = {
            theme: { primary: '#002244', accent: '#EA580C', background: '#F8FAFC' },
            videoConfig: { type: 'none', src: '', title: 'Message from Dr. Vishal' },
            socialLinks: { whatsapp: '#', telegram: '#' },
            adminPasskey: 'admin123' // Default passkey
        };

        const CustomVideoPlayer = ({ videoSource }) => {
            const videoRef = useRef(null);
            const [isPlaying, setIsPlaying] = useState(false);
            const [showControls, setShowControls] = useState(true);

            const togglePlay = () => {
                if (videoRef.current) {
                    isPlaying ? videoRef.current.pause() : videoRef.current.play();
                    setIsPlaying(!isPlaying);
                }
            };

            return (
                <div 
                    className="relative w-full h-full group bg-black rounded-2xl overflow-hidden shadow-2xl border-4 border-white ring-1 ring-slate-200"
                    onMouseEnter={() => setShowControls(true)}
                    onMouseLeave={() => isPlaying && setShowControls(false)}
                >
                    {!videoSource.src ? (
                        <div className="absolute inset-0 flex flex-col items-center justify-center bg-slate-900 text-slate-500 h-64 md:h-full">
                           <Video size={48} className="mb-4 opacity-50" />
                           <p>No Video Configured</p>
                        </div>
                    ) : (
                        <video 
                            ref={videoRef}
                            src={videoSource.src}
                            className="w-full h-full object-cover"
                            onClick={togglePlay}
                            onEnded={() => setIsPlaying(false)}
                            playsInline
                        />
                    )}
                    
                    {showControls && videoSource.src && (
                        <div className="absolute inset-0 bg-black/40 flex flex-col justify-between p-6 transition-opacity duration-300">
                            <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                                <button onClick={togglePlay} className="w-20 h-20 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center pointer-events-auto hover:scale-110 transition-transform">
                                    {isPlaying ? <Pause className="fill-white text-white" /> : <Play className="fill-white text-white ml-1" />}
                                </button>
                            </div>
                            <div className="mt-auto pointer-events-none">
                               <p className="text-white font-bold text-lg drop-shadow-md">{videoSource.title}</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const App = ({ isOffline }) => {
            const [currentPage, setCurrentPage] = useState('landing');
            const [isAdmin, setIsAdmin] = useState(false);
            const [adminPanelOpen, setAdminPanelOpen] = useState(false);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [settings, setSettings] = useState(DEFAULT_SETTINGS);

            useEffect(() => {
                if (isOffline || !db) return;
                try {
                    const unsubscribe = firestoreFuncs.onSnapshot(firestoreFuncs.doc(db, "settings", "global"), (docSnap) => {
                        if (docSnap.exists()) {
                            setSettings(docSnap.data());
                        }
                    });
                    return () => unsubscribe();
                } catch (e) { console.warn("Live sync failed", e); }
            }, [isOffline]);

            const saveSettings = async (newSettings) => {
                if (isOffline) return alert("Offline Mode: Changes won't save.");
                try {
                    setSettings(newSettings);
                    await firestoreFuncs.setDoc(firestoreFuncs.doc(db, "settings", "global"), newSettings, { merge: true });
                } catch (err) { alert("Error: " + err.message); }
            };

            const handleRegister = async (e) => {
                e.preventDefault();
                setIsSubmitting(true);
                
                if (isOffline) {
                    setTimeout(() => {
                        setCurrentPage('thankyou');
                        window.scrollTo(0,0);
                        setIsSubmitting(false);
                    }, 1000);
                    return;
                }

                const formData = new FormData(e.currentTarget);
                const leadData = {
                    name: formData.get('fullName'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    registeredAt: new Date().toISOString(),
                    source: 'web_v1'
                };

                try {
                    await firestoreFuncs.addDoc(firestoreFuncs.collection(db, "leads"), leadData);
                    setTimeout(() => {
                        setCurrentPage('thankyou');
                        window.scrollTo(0,0);
                        setIsSubmitting(false);
                    }, 500);
                } catch (error) {
                    alert("Registration failed. Check console.");
                    setIsSubmitting(false);
                }
            };

            return (
                <div style={{ '--primary': settings.theme.primary, '--accent': settings.theme.accent }} className="animate-fade-in">
                    
                    {/* Admin Toggle */}
                    <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end">
                        <button 
                            onClick={() => {
                                if (!isAdmin) setIsAdmin(true); 
                                else setAdminPanelOpen(!adminPanelOpen);
                            }}
                            className={`p-3 rounded-full shadow-xl border transition-all ${isAdmin ? 'bg-slate-900 text-white' : 'bg-white text-slate-400 hover:text-[var(--accent)]'}`}
                        >
                            {isAdmin ? <Settings size={24} /> : <Lock size={20} />}
                        </button>

                        {/* Admin Panel */}
                        {isAdmin && adminPanelOpen && (
                            <div className="absolute bottom-16 right-0 bg-white p-0 rounded-2xl shadow-2xl border border-slate-200 w-80 overflow-hidden mb-2 animate-fade-in">
                                <div className="bg-slate-900 p-4 flex justify-between items-center text-white">
                                    <h3 className="font-bold flex items-center gap-2 text-sm"><ShieldCheck size={16} /> Admin Panel</h3>
                                    <button onClick={() => setIsAdmin(false)} className="text-xs text-slate-400 hover:text-white flex items-center gap-1"><Unlock size={12} /> Logout</button>
                                </div>
                                <div className="p-4 space-y-4 max-h-[60vh] overflow-y-auto">
                                    {isOffline && <p className="text-red-500 text-xs font-bold">OFFLINE MODE: Cannot Save</p>}
                                    <div>
                                        <label className="text-xs font-bold text-slate-400 uppercase">Primary Color</label>
                                        <div className="flex items-center gap-2 mt-1">
                                            <input type="color" value={settings.theme.primary} onChange={(e) => saveSettings({ ...settings, theme: { ...settings.theme, primary: e.target.value } })} className="h-8 w-8 rounded cursor-pointer border-none" />
                                            <span className="text-xs bg-slate-100 px-2 py-1 rounded">{settings.theme.primary}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="text-xs font-bold text-slate-400 uppercase">Accent Color</label>
                                        <div className="flex items-center gap-2 mt-1">
                                            <input type="color" value={settings.theme.accent} onChange={(e) => saveSettings({ ...settings, theme: { ...settings.theme, accent: e.target.value } })} className="h-8 w-8 rounded cursor-pointer border-none" />
                                            <span className="text-xs bg-slate-100 px-2 py-1 rounded">{settings.theme.accent}</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="text-xs font-bold text-slate-400 uppercase">Admin Passkey</label>
                                        <input type="text" value={settings.adminPasskey || ''} onChange={(e) => saveSettings({ ...settings, adminPasskey: e.target.value })} className="w-full text-xs p-2 border rounded mt-1 outline-none focus:border-blue-500" placeholder="Set Admin Password" />
                                    </div>
                                    <div>
                                        <label className="text-xs font-bold text-slate-400 uppercase">WhatsApp Link</label>
                                        <input type="text" value={settings.socialLinks.whatsapp} onChange={(e) => saveSettings({ ...settings, socialLinks: { ...settings.socialLinks, whatsapp: e.target.value } })} className="w-full text-xs p-2 border rounded mt-1 outline-none focus:border-blue-500" placeholder="https://..." />
                                    </div>
                                    <div>
                                        <label className="text-xs font-bold text-slate-400 uppercase">Video URL</label>
                                        <input type="text" value={settings.videoConfig.src} onChange={(e) => saveSettings({ ...settings, videoConfig: { ...settings.videoConfig, src: e.target.value, type: 'url' } })} className="w-full text-xs p-2 border rounded mt-1 outline-none focus:border-blue-500" placeholder="https://..." />
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>

                    {currentPage === 'landing' ? (
                        <div>
                            {/* HERO */}
                            <section className="relative pt-24 pb-32 px-6 md:px-12 bg-[var(--primary)] text-white overflow-hidden transition-colors duration-500">
                                <div className="absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px] pointer-events-none"></div>
                                <div className="max-w-5xl mx-auto text-center relative z-10">
                                    <div className="flex justify-center mb-8">
                                        <div className="inline-flex items-center px-4 py-1.5 rounded-full bg-slate-900/50 border border-[var(--accent)]/30 shadow-lg backdrop-blur-sm">
                                            <span className="text-[var(--accent)] font-extrabold uppercase tracking-widest text-xs sm:text-sm animate-pulse">Exclusive Webinar Event</span>
                                        </div>
                                    </div>
                                    <h1 className="text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-tight mb-8 leading-[1.1]">
                                        Conquer the Fear of the <br className="hidden md:block" />
                                        <span className="text-transparent bg-clip-text bg-gradient-to-r from-[var(--accent)] to-orange-400">New Descriptive Pattern</span>
                                    </h1>
                                    <p className="text-lg md:text-2xl text-slate-300 mb-12 max-w-3xl mx-auto font-light leading-relaxed">
                                        Master the exact <span className="text-white font-semibold border-b border-[var(--accent)]">Framework Method</span> used by 350+ Officers.
                                    </p>
                                    <div className="flex flex-col sm:flex-row gap-5 justify-center items-center">
                                        <button onClick={() => document.getElementById('reg-form')?.scrollIntoView({ behavior: 'smooth' })} className="w-full sm:w-auto px-10 py-5 bg-[var(--accent)] hover:brightness-110 text-white font-bold rounded-xl text-lg shadow-xl shadow-orange-900/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2">
                                            Secure Your Spot Free <ChevronRight size={20} />
                                        </button>
                                    </div>
                                </div>
                            </section>

                            {/* FEATURES (VALUE PROPOSITION) */}
                            <section className="py-24 px-6 bg-white relative z-20 -mt-10 rounded-t-[40px]">
                                <div className="max-w-6xl mx-auto">
                                    <div className="text-center mb-16">
                                        <h2 className="text-3xl md:text-4xl font-bold text-[var(--primary)] mb-4">Why This Webinar is Mandatory</h2>
                                        <div className="w-24 h-1.5 bg-[var(--accent)] mx-auto rounded-full"></div>
                                    </div>
                                    <div className="grid md:grid-cols-3 gap-8">
                                        {[
                                            { icon: <BookOpen className="text-[var(--accent)]" size={32} />, title: "Decoding the Pattern", desc: "Understand exactly what the Commission expects." },
                                            { icon: <Clock className="text-[var(--accent)]" size={32} />, title: "Time-Blocking", desc: "Scientific routine management." },
                                            { icon: <Award className="text-[var(--accent)]" size={32} />, title: "The Framework Method", desc: "Draft high-scoring answers in 8 minutes." }
                                        ].map((item, i) => (
                                            <div key={i} className="p-8 rounded-2xl bg-slate-50 hover:shadow-xl transition-all border border-slate-100 hover:border-[var(--accent)]">
                                                <div className="w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm">{item.icon}</div>
                                                <h3 className="text-xl font-bold text-[var(--primary)] mb-3">{item.title}</h3>
                                                <p className="text-slate-600">{item.desc}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            {/* AGENDA SECTION */}
                            <section className="py-24 px-6 bg-[var(--primary)] text-white">
                                <div className="max-w-6xl mx-auto">
                                    <div className="text-center mb-16">
                                        <h2 className="text-3xl md:text-4xl font-bold mb-4 text-white">Webinar Agenda</h2>
                                        <p className="text-slate-300 text-lg">What will you learn in this FREE UPSC/MPSC Webinar?</p>
                                        <div className="w-24 h-1.5 bg-[var(--accent)] mx-auto rounded-full mt-4"></div>
                                    </div>
                                    <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                                        {[
                                            { id: 1, text: "What is UPSC/MPSC? A detailed analysis." },
                                            { id: 2, text: "Posts under UPSC/MPSC â€“ Eligibility and qualifications required." },
                                            { id: 3, text: "Can UPSC CSE & MPSC Rajyaseva be prepared together?" },
                                            { id: 4, text: "How many months of study are required to crack UPSC/MPSC?" },
                                            { id: 5, text: "Complete analysis of UPSC/MPSC syllabus." },
                                            { id: 6, text: "Common obstacles faced at the beginning of preparation & their solutions." },
                                            { id: 7, text: "Should you prepare in Marathi or English medium?" },
                                            { id: 8, text: "Which books to start with for MPSC Combine & which subjects need more focus." }
                                        ].map((item) => (
                                            <div key={item.id} className="bg-white/10 backdrop-blur-md border border-white/10 p-6 rounded-2xl hover:bg-white/20 transition-all group">
                                                <div className="w-10 h-10 rounded-full bg-[var(--accent)] text-[var(--primary)] font-bold flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                                                    {item.id}
                                                </div>
                                                <p className="font-medium text-slate-100 leading-relaxed">{item.text}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            {/* 5 SECRETS OF SUCCESS SECTION */}
                            <section className="py-24 px-6 bg-slate-900 text-white border-t border-slate-800">
                                <div className="max-w-6xl mx-auto">
                                    <div className="text-center mb-16">
                                        <h2 className="text-3xl md:text-4xl font-bold mb-4">The 5 Secrets of Success</h2>
                                        <div className="w-24 h-1.5 bg-[var(--accent)] mx-auto rounded-full"></div>
                                    </div>
                                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                        <div className="bg-slate-800 p-8 rounded-2xl border-l-4 border-[var(--accent)] hover:translate-y-[-5px] transition-transform">
                                            <div className="mb-4 text-[var(--accent)]"><Zap size={32} /></div>
                                            <h3 className="text-xl font-bold mb-2">Secret 1</h3>
                                            <p className="text-slate-300">UPSC/MPSC doesn't need subject experts; it needs great administrators.</p>
                                        </div>
                                        <div className="bg-slate-800 p-8 rounded-2xl border-l-4 border-[var(--accent)] hover:translate-y-[-5px] transition-transform">
                                            <div className="mb-4 text-[var(--accent)]"><Scale size={32} /></div>
                                            <h3 className="text-xl font-bold mb-2">Secret 2</h3>
                                            <p className="text-slate-300">Balance between conceptual clarity & memorisation is the key.</p>
                                        </div>
                                        <div className="bg-slate-800 p-8 rounded-2xl border-l-4 border-[var(--accent)] hover:translate-y-[-5px] transition-transform">
                                            <div className="mb-4 text-[var(--accent)]"><Target size={32} /></div>
                                            <h3 className="text-xl font-bold mb-2">Secret 3</h3>
                                            <p className="text-slate-300">Minimum Material, Maximum Revision is the real success mantra.</p>
                                        </div>
                                        <div className="bg-slate-800 p-8 rounded-2xl border-l-4 border-[var(--accent)] hover:translate-y-[-5px] transition-transform md:col-span-1 lg:col-span-1.5">
                                            <div className="mb-4 text-[var(--accent)]"><FileText size={32} /></div>
                                            <h3 className="text-xl font-bold mb-2">Secret 4</h3>
                                            <p className="text-slate-300">Previous year papers are a must to understand the exam.</p>
                                        </div>
                                        <div className="bg-slate-800 p-8 rounded-2xl border-l-4 border-[var(--accent)] hover:translate-y-[-5px] transition-transform md:col-span-1 lg:col-span-1.5">
                                            <div className="mb-4 text-[var(--accent)]"><Brain size={32} /></div>
                                            <h3 className="text-xl font-bold mb-2">Secret 5</h3>
                                            <p className="text-slate-300">Focus on conceptual learning, not just finishing books.</p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            {/* AUTHORITY SECTION (DR. VISHAL BHEDURKAR) */}
                            <section className="py-24 px-6 bg-white">
                                <div className="max-w-5xl mx-auto">
                                    <div className="bg-[var(--primary)] rounded-[2.5rem] overflow-hidden shadow-2xl text-white border border-slate-800 transition-colors duration-300">
                                        <div className="flex flex-col md:flex-row">
                                            <div className="md:w-5/12 bg-slate-900 relative min-h-[450px] group overflow-hidden">
                                                <img 
                                                    src="https://www.dnyanjyoti.com/wp-content/uploads/2025/04/MD-Photo.jpg" 
                                                    alt="Dr. Vishal Bhedurkar" 
                                                    className="absolute inset-0 w-full h-full object-cover object-top opacity-90 transition-transform duration-700 group-hover:scale-105 scale-x-[-1]"
                                                    onError={(e) => {
                                                        e.target.src = "https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                                                    }}
                                                />
                                                <div className="absolute inset-0 bg-gradient-to-t from-[var(--primary)] via-transparent to-transparent opacity-90"></div>
                                                <div className="absolute bottom-6 left-6 right-6">
                                                    <div className="bg-white/10 backdrop-blur-md border border-white/20 p-4 rounded-xl">
                                                        <p className="font-serif italic text-blue-100 text-sm">"Success isn't about reading more. It's about thinking clearly."</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="md:w-7/12 p-8 md:p-14 flex flex-col justify-center">
                                                <h3 className="text-[var(--accent)] font-bold tracking-widest uppercase text-xs mb-3">Your Mentor</h3>
                                                <h2 className="text-3xl md:text-4xl font-bold mb-6 font-serif">Dr. Vishal Bhedurkar</h2>
                                                <p className="text-slate-400 mb-10 leading-relaxed text-lg">
                                                    Founder & Director of Dnyanjyoti Education. With a heart for students and a mind for strategy, Dr. Vishal has transformed the lives of thousands of aspirants in Pune through precision mentorship.
                                                </p>
                                                
                                                <div className="grid grid-cols-2 gap-y-8 gap-x-4">
                                                    <div>
                                                        <h4 className="text-4xl font-extrabold text-white">12+</h4>
                                                        <p className="text-sm text-slate-500 uppercase tracking-wide mt-1">Years Experience</p>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-4xl font-extrabold text-white">1000+</h4>
                                                        <p className="text-sm text-slate-500 uppercase tracking-wide mt-1">Officers Guided</p>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-4xl font-extrabold text-white">350+</h4>
                                                        <p className="text-sm text-slate-500 uppercase tracking-wide mt-1">Final Selections</p>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-4xl font-extrabold text-white">4</h4>
                                                        <p className="text-sm text-slate-500 uppercase tracking-wide mt-1">Centers in Pune</p>
                                                    </div>
                                                    {/* New Stat */}
                                                    <div className="col-span-2">
                                                        <h4 className="text-4xl font-extrabold text-white">1 Lakh+</h4>
                                                        <p className="text-sm text-slate-500 uppercase tracking-wide mt-1">Students Attended Webinar</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            {/* WHY REGISTER & WHAT YOU GET SECTION */}
                            <section className="py-24 px-6 bg-slate-50">
                                <div className="max-w-6xl mx-auto grid md:grid-cols-2 gap-12">
                                    {/* Why Register */}
                                    <div className="bg-white p-8 rounded-3xl shadow-xl border border-slate-100">
                                        <div className="flex items-center gap-4 mb-6">
                                            <div className="w-12 h-12 rounded-full bg-blue-100 text-[var(--primary)] flex items-center justify-center">
                                                <Star size={24} />
                                            </div>
                                            <h3 className="text-2xl font-bold text-[var(--primary)]">Why Should You Register?</h3>
                                        </div>
                                        <ul className="space-y-4">
                                            {[
                                                "Get clarity on the changing exam pattern and stay ahead of the competition.",
                                                "Learn time-tested strategies directly from expert mentors.",
                                                "Avoid common pitfalls that 90% of aspirants make in their first year.",
                                                "Understand how to balance prelims and mains preparation effectively."
                                            ].map((item, i) => (
                                                <li key={i} className="flex gap-3 text-slate-700">
                                                    <CheckCircle size={20} className="text-[var(--accent)] shrink-0 mt-1" />
                                                    <span>{item}</span>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>

                                    {/* What You Get */}
                                    <div className="bg-white p-8 rounded-3xl shadow-xl border border-slate-100">
                                        <div className="flex items-center gap-4 mb-6">
                                            <div className="w-12 h-12 rounded-full bg-green-100 text-green-700 flex items-center justify-center">
                                                <Download size={24} />
                                            </div>
                                            <h3 className="text-2xl font-bold text-[var(--primary)]">What Will You Get?</h3>
                                        </div>
                                        <ul className="space-y-4">
                                            {[
                                                "Exclusive access to the live webinar session.",
                                                "A comprehensive PDF guide on the new descriptive pattern.",
                                                "Direct Q&A opportunity with Dr. Vishal Bhedurkar.",
                                                "Priority access to upcoming foundation batches."
                                            ].map((item, i) => (
                                                <li key={i} className="flex gap-3 text-slate-700">
                                                    <CheckCircle size={20} className="text-green-600 shrink-0 mt-1" />
                                                    <span>{item}</span>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>
                            </section>

                            {/* REGISTRATION FORM SECTION */}
                            <section id="reg-form" className="py-24 px-6 bg-[var(--bg-body)]">
                                <div className="max-w-xl mx-auto bg-white rounded-3xl shadow-2xl p-8 md:p-12 relative overflow-hidden border border-slate-100">
                                    <div className="absolute top-0 left-0 w-full h-2 bg-[var(--accent)]"></div>
                                    <div className="text-center mb-8">
                                        <h2 className="text-3xl font-bold text-[var(--primary)]">Secure Your Seat</h2>
                                        <p className="text-slate-500 mt-2">Unlock the pre-webinar study PDF immediately.</p>
                                    </div>
                                    <form onSubmit={handleRegister} className="space-y-5">
                                        <input required name="fullName" placeholder="Full Name" className="w-full px-4 py-4 rounded-xl bg-slate-50 border border-slate-200 focus:border-[var(--accent)] outline-none transition-colors" />
                                        <input required name="email" type="email" placeholder="Email Address" className="w-full px-4 py-4 rounded-xl bg-slate-50 border border-slate-200 focus:border-[var(--accent)] outline-none transition-colors" />
                                        <input required name="phone" type="tel" placeholder="Phone Number" className="w-full px-4 py-4 rounded-xl bg-slate-50 border border-slate-200 focus:border-[var(--accent)] outline-none transition-colors" />
                                        <button disabled={isSubmitting} type="submit" className="w-full py-5 bg-[var(--primary)] text-white font-bold rounded-xl text-lg hover:brightness-110 transition-all flex items-center justify-center gap-2">
                                            {isSubmitting ? 'Registering...' : <span>Register & Unlock PDF <ChevronRight size={20} className="inline"/></span>}
                                        </button>
                                        
                                        {/* Value Proposition Line */}
                                        <div className="mt-6 p-4 bg-orange-50 border border-orange-100 rounded-xl text-center">
                                            <p className="text-sm font-bold text-slate-800 flex items-center justify-center gap-2">
                                                <span className="text-xl">ðŸ‘‰</span> 
                                                By registering, you get a chance to attend this <span className="text-[var(--primary)] underline decoration-[var(--accent)] decoration-2">â‚¹3999/- value Webinar</span> absolutely FREE!
                                            </p>
                                        </div>

                                        <p className="text-center text-xs text-slate-400 mt-2">Limited spots available for serious aspirants.</p>
                                    </form>
                                </div>
                            </section>
                        </div>
                    ) : (
                        <div className="min-h-screen py-12 px-6 flex flex-col items-center justify-center bg-slate-50 animate-fade-in">
                            <div className="max-w-2xl w-full text-center">
                                <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100">
                                    <CheckCircle className="text-green-600" size={40} />
                                </div>
                                <h1 className="text-4xl font-bold text-[var(--primary)] mb-8">Registration Successful!</h1>
                                
                                <div className="aspect-video w-full mb-10 rounded-2xl overflow-hidden shadow-2xl bg-black">
                                    <CustomVideoPlayer videoSource={settings.videoConfig} />
                                </div>

                                <div className="space-y-4 max-w-md mx-auto">
                                    <a href={settings.socialLinks.whatsapp} target="_blank" className="block w-full py-4 bg-[#25D366] text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-[#20bd5a] transition-all shadow-lg shadow-green-500/20">
                                        <MessageCircle size={24} /> Join WhatsApp Group
                                    </a>
                                    <a href={settings.socialLinks.telegram} target="_blank" className="block w-full py-4 bg-[#0088cc] text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-[#0077b3] transition-all shadow-lg shadow-blue-500/20">
                                        <Send size={24} /> Join Telegram Channel
                                    </a>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        function renderReactApp(isOffline = false) {
            const root = createRoot(document.getElementById('root'));
            root.render(<App isOffline={isOffline} />);
        }

        // Initialize
        initApp();

        // Global Error Handler for the "White Screen"
        window.onerror = function(message, source, lineno, colno, error) {
            document.getElementById('root').style.display = 'none';
            const errContainer = document.getElementById('error-container');
            errContainer.style.display = 'block';
            document.getElementById('error-message').innerText = message + " (Line: " + lineno + ")";
        };
    </script>
</body>
</html>